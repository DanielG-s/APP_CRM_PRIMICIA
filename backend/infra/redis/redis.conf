# Redis Configuration for CRM Primicia Production
# Mount this to /usr/local/etc/redis/redis.conf in Docker

# Security
# Password will be set via CMD or environment variable substitution if necessary
# but for now we rely on requirepass in this file if we can mount it securely.
# However, to avoid cleartext in this file, we can use an entrypoint or just mount a secured file.
# For simplicity, we define the basics here.

bind 0.0.0.0
protected-mode yes
port 6379

# Memory Policy
maxmemory 512mb
maxmemory-policy allkeys-lru

# Persistence
appendonly yes
appendfsync everysec

# Monitoring
latency-monitor-threshold 100
slowlog-log-slower-than 10000
slowlog-max-len 128
